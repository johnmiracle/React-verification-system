(this.webpackJsonpreact_qrcode=this.webpackJsonpreact_qrcode||[]).push([[0],{136:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(0),a=c(12),s=c.n(a),i=(c(94),c(95),c(8)),o=c(15),d=c(11),l=c(163),j=c(173),u=c(169),b=c(168),h=c(167),m=c(170),p=c(72),O=c.n(p);var x=function(){var e=Object(n.useState)("lintangwisesa"),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(i.b,{to:"/",children:Object(r.jsx)(l.a,{style:{marginRight:10},color:"primary",children:Object(r.jsx)(h.a,{})})}),Object(r.jsx)("span",{children:"QR Generator"}),Object(r.jsx)("div",{style:{marginTop:30},children:Object(r.jsx)(j.a,{onChange:function(e){a(e.target.value)},style:{width:320},value:c,label:"QR content",size:"large",variant:"outlined",color:"primary"})}),Object(r.jsx)("div",{children:c?Object(r.jsx)(O.a,{id:"myqr",value:c,size:320,includeMargin:!0}):Object(r.jsx)("p",{children:"No QR code preview"})}),Object(r.jsx)("div",{children:c?Object(r.jsxs)(u.a,{container:!0,children:[Object(r.jsx)(u.a,{item:!0,xs:10,children:Object(r.jsx)(b.a,{style:{fontSize:18,width:250,height:100},rowsMax:4,defaultValue:c,value:c})}),Object(r.jsx)(u.a,{item:!0,xs:2,children:Object(r.jsx)(l.a,{onClick:function(){var e=document.getElementById("myqr").toDataURL("image/png").replace("image/png","image/octet-stream"),t=document.createElement("a");t.href=e,t.download="myqr.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)},style:{marginLeft:10},color:"primary",children:Object(r.jsx)(m.a,{})})})]}):""})]})},v=c(6),f=c(76),g=c.n(f),N=c(16),y=c.n(N),S=c(21),_=c(22),w=c.n(_),E="PRODUCT_VERIFY_REQUEST",I="PRODUCT_VERIFY_SUCCESS",C="PRODUCT_VERIFY_FAIL",U="PRODUCT_VERIFY_RESET",R=function(e){return function(){var t=Object(S.a)(y.a.mark((function t(c,r){var n,a,s,i,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:E,payload:{code:e}}),n=r(),a=n.userSignin.userInfo,t.prev=2,t.next=5,w.a.post("/api/user/verify-product",{code:e},{headers:{Authorization:"Bearer "+a.token}});case 5:s=t.sent,i=s.data,c({type:I,payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,c({type:C,payload:o});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,c){return t.apply(this,arguments)}}()};var P=function(){return Object(r.jsx)("div",{className:"text-center h-100 container",children:Object(r.jsx)("img",{src:"./loader.gif",className:"loader",alt:"loader"})})};var k=function(e){var t=Object(n.useState)("environment"),c=Object(d.a)(t,2),a=(c[0],c[1]),s=Object(v.c)((function(e){return e.productVerify})),o=s.loading,j=s.success,u=s.error,b=Object(v.b)();return Object(n.useEffect)((function(){if(j){e.history.push("/result")}if(u){e.history.push("/result_fail")}return function(){}}),[j,u,e.history]),Object(r.jsx)("div",{className:"container",children:o?Object(r.jsx)(P,{}):Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("div",{className:"mt-4",children:Object(r.jsx)(i.b,{to:"/product_verify",children:Object(r.jsx)(l.a,{style:{marginRight:10},color:"primary",children:Object(r.jsx)(h.a,{})})})}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-3"}),Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsxs)("center",{children:[Object(r.jsx)("span",{children:"QR Scanner"}),Object(r.jsx)("input",{type:"button",value:"Camera...",className:"btn btn-primary btn-sm",onClick:cameraButton}),Object(r.jsx)("div",{style:{marginTop:30},children:Object(r.jsx)(g.a,{delay:300,facingMode:function(e){return a(e.target.value)},onError:function(e){console.error(e)},onScan:function(e){e&&b(R(e))},style:{height:240,width:320}})})]})}),Object(r.jsx)("div",{className:"col-md-3"})]})]})})},T="USER_SIGNIN_REQUEST",L="USER_SIGNIN_SUCCESS",D="USER_SIGNIN_FAIL",A="USER_SIGNOUT",F="USER_REGISTER_REQUEST",q="USER_REGISTER_SUCCESS",B="USER_REGISTER_FAIL",Q="USER_HISTORY_REQUEST",V="USER_HISTORY_SUCCESS",z="USER_HISTORY_FAIL";var G=function(e){return Object(r.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})};var M=function(e){var t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(""),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(v.c)((function(e){return e.userSignin})),h=b.loading,m=b.userInfo,p=b.error,O=Object(v.b)(),x=function(e){e.preventDefault(),O(function(e,t){return function(){var c=Object(S.a)(y.a.mark((function c(r){var n,a;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:T,payload:{phone:e,password:t}}),c.prev=1,c.next=4,w.a.post("/api/login",{phone:e,password:t});case 4:n=c.sent,a=n.data,r({type:L,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r({type:D,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(a,j))};return Object(n.useEffect)((function(){return m&&e.history.push("/product_verify"),function(){}}),[m,e.history]),Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"container mt-5",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-3"}),Object(r.jsx)("div",{className:"col-md-6",children:h?Object(r.jsx)(P,{}):Object(r.jsxs)("form",{className:"log-blk",onSubmit:x,children:[Object(r.jsx)("h2",{className:"text m-2",children:"Login"}),p&&Object(r.jsx)(G,{variant:"danger",children:p}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"exampleInputNumber",children:"Phone Number"}),Object(r.jsx)("input",{type:"number",className:"form-control",id:"exampleInputNumber",onChange:function(e){return s(e.target.value)},placeholder:"Enter Phone Number",required:!0})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(r.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:function(e){return u(e.target.value)},placeholder:"Password",required:!0})]}),Object(r.jsx)("button",{type:"submit",onClick:x,className:"btn btn-primary btn-block",children:"SIGN IN"}),Object(r.jsx)("center",{className:"mt-5 mb-2",children:Object(r.jsx)(i.b,{to:"#",className:"log-ml ml-r",children:"Forgotten Password"})}),Object(r.jsxs)("center",{className:"log-top",children:["Dont have an account?",Object(r.jsx)(i.b,{to:"/register",children:"Sign Up"})]})]})}),Object(r.jsx)("div",{className:"col-md-3"})]})})})},Y=c(171),H=c(172),J=c(50),X=c.n(J),K=c(51);var W=function(){return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"center",children:Object(r.jsx)(Y.a,{style:{margin:30},variant:"h2",children:"Verify Product"})}),Object(r.jsx)("div",{className:"center",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-6 p-4",children:Object(r.jsx)(i.b,{to:"/code_verify",children:Object(r.jsx)(H.a,{variant:"contained",size:"large",color:"primary",children:Object(r.jsx)(X.a,{style:{padding:10},path:K.a,title:"Code Input",size:10,color:"white"})})})}),Object(r.jsx)("div",{className:"col-md-6 p-4",children:Object(r.jsx)(i.b,{to:"/qr_scanner",children:Object(r.jsx)(H.a,{variant:"contained",size:"large",color:"primary",children:Object(r.jsx)(X.a,{style:{padding:10},path:K.b,title:"QR Scanner",size:10,color:"white"})})})})]})})]})};var Z=function(e){var t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(""),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(""),h=Object(d.a)(b,2),m=h[0],p=h[1],O=Object(n.useState)(""),x=Object(d.a)(O,2),f=x[0],g=x[1],N=Object(v.c)((function(e){return e.userRegister})),_=N.loading,E=N.userInfo,I=N.error,C=Object(v.b)(),U=function(e){e.preventDefault(),C(function(e,t,c,r){return function(){var n=Object(S.a)(y.a.mark((function n(a){var s,i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:F,payload:{firstName:e,lastName:t,phone:c,password:r}}),n.prev=1,n.next=4,w.a.post("/api/register",{firstName:e,lastName:t,phone:c,password:r});case 4:s=n.sent,i=s.data,a({type:q,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a({type:B,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}(a,j,m,f))};return Object(n.useEffect)((function(){return E&&e.history.push("/"),function(){}}),[E,e.history]),Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"row mt-5",children:[Object(r.jsx)("div",{className:"col-md-3"}),Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsx)("div",{className:"container card ",children:Object(r.jsx)("article",{className:"card-body ",children:_?Object(r.jsx)(P,{}):Object(r.jsxs)("div",{children:[I&&Object(r.jsx)(G,{variant:"danger",children:I}),E&&Object(r.jsx)(G,{variant:"success",children:"Registration is successfull, Please Login"}),Object(r.jsx)("h4",{className:"card-title mt-3 text-center",children:"Create Account"}),Object(r.jsx)("p",{className:"text-center",children:"Get started with your free account"}),Object(r.jsxs)("form",{onSubmit:U,children:[Object(r.jsxs)("div",{className:"form-group input-group",id:"name",children:[Object(r.jsx)("div",{className:"input-group-prepend",children:Object(r.jsx)("span",{className:"input-group-text",children:Object(r.jsx)("i",{className:"fa fa-user"})})}),Object(r.jsx)("input",{name:"",className:"form-control",placeholder:"First Name",type:"text",onChange:function(e){return s(e.target.value)},required:!0})]}),Object(r.jsxs)("div",{className:"form-group input-group",id:"name",children:[Object(r.jsx)("div",{className:"input-group-prepend",children:Object(r.jsx)("span",{className:"input-group-text",children:Object(r.jsx)("i",{className:"fa fa-user"})})}),Object(r.jsx)("input",{name:"",className:"form-control",placeholder:"Last Name",type:"text",onChange:function(e){return u(e.target.value)},required:!0})]}),Object(r.jsxs)("div",{className:"form-group input-group",id:"mobileNumber",children:[Object(r.jsx)("div",{className:"input-group-prepend",children:Object(r.jsx)("span",{className:"input-group-text",children:Object(r.jsx)("i",{className:"fa fa-phone"})})}),Object(r.jsx)("input",{name:"",className:"form-control",placeholder:"Phone number",type:"text",onChange:function(e){return p(e.target.value)},required:!0})]}),Object(r.jsxs)("div",{className:"form-group input-group",id:"password",children:[Object(r.jsx)("div",{className:"input-group-prepend",children:Object(r.jsx)("span",{className:"input-group-text",children:Object(r.jsx)("i",{className:"fa fa-lock"})})}),Object(r.jsx)("input",{className:"form-control",placeholder:"Create password",type:"password",onChange:function(e){return g(e.target.value)},required:!0})]}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",onClick:U,children:"Create Account"})}),Object(r.jsxs)("p",{className:"text-center",children:["Have an account?",Object(r.jsx)(i.b,{to:"/",children:"Log in"})]})]})]})})})}),Object(r.jsx)("div",{className:"col-md-3"})]})})},$=c(17);var ee=function(e){var t,c=Object(n.useState)(""),a=Object(d.a)(c,2),s=a[0],o=a[1],j=Object(v.c)((function(e){return e.productVerify})),u=j.loading,b=j.success,m=j.error,p=Object(v.b)(),O=function(e){e.preventDefault(),p(R(s))};return Object(n.useEffect)((function(){if(b){e.history.push("/result")}if(m){e.history.push("/result_fail")}return function(){}}),[b,m,e.history]),Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"container mt-5",children:u?Object(r.jsx)(P,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"mt-4",children:Object(r.jsx)(i.b,{to:"/product_verify",children:Object(r.jsx)(l.a,{style:{marginRight:10},color:"primary",children:Object(r.jsx)(h.a,{})})})}),Object(r.jsxs)("div",{className:"row mt-3",children:[Object(r.jsx)("div",{className:"col-md-3"}),Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsxs)("form",{onSubmit:O,children:[Object(r.jsxs)("div",{className:"md-form",children:[Object(r.jsx)("input",(t={type:"text",id:"form1",className:"form-control"},Object($.a)(t,"id","exampleInputNumber"),Object($.a)(t,"onChange",(function(e){return o(e.target.value)})),Object($.a)(t,"required",!0),t)),Object(r.jsx)("label",{for:"form1",children:"Product Code"})]}),Object(r.jsx)("button",{onSubmit:O,type:"submit",className:"btn btn-block btn-primary",children:"Verify"})]})}),Object(r.jsx)("div",{className:"col-md-3"})]})]})})})};var te=function(e){var t=Object(v.c)((function(e){return e.userSignin})).userInfo,c=Object(v.c)((function(e){return e.productVerify})).verified,n=Object(v.b)();return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-3"}),Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{id:"myModal",className:"",children:Object(r.jsx)("div",{className:"modal-dialog modal-confirm",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("div",{className:"modal-header-true",children:Object(r.jsx)("div",{className:"icon-box",children:Object(r.jsxs)("center",{children:[Object(r.jsx)("i",{className:"font-circle fa fa-check"}),Object(r.jsxs)("h3",{className:"pt-3",children:["You have been awarded ",c.points," points"]})]})})}),Object(r.jsxs)("div",{className:"modal-body text-center",children:[Object(r.jsx)("h4",{children:"Great!!!"}),Object(r.jsxs)("p",{className:"model-text",children:["Hello ",t.firstName," ",Object(r.jsx)("br",{}),Object(r.jsxs)("div",{className:"",children:["Your Product ",c.product," is Authentic with serial number ",c.serial,", batch number"," ",c.batch_no," and product code ",c.pin_code]}),Object(r.jsx)("button",{className:"btn btn-success","data-dismiss":"modal",onClick:function(t){t.preventDefault(),n({type:U}),e.history.push("/product_verify")},type:"submit",children:"Continue"})]})]})]})})})})}),Object(r.jsx)("div",{className:"col-md-3"})]})})};var ce=function(e){var t=Object(v.c)((function(e){return e.userSignin})).userInfo,c=Object(v.c)((function(e){return e.productVerify})).error,n=Object(v.b)();return console.log(c),Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-3"}),Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{id:"myModal",className:"",children:Object(r.jsx)("div",{className:"modal-dialog modal-confirm",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("div",{className:"modal-header-false",children:Object(r.jsx)("div",{className:"icon-box",children:Object(r.jsxs)("center",{children:[Object(r.jsx)("i",{className:"font-circle fa fa-times p-4"}),Object(r.jsx)("h3",{className:"pt-3",children:"Bad!!!"})]})})}),Object(r.jsxs)("div",{className:"modal-body text-center",children:[Object(r.jsx)("h4",{children:"Bad!!!"}),Object(r.jsxs)("p",{className:"model-text",children:["Hello ",t.firstName," ",Object(r.jsx)("br",{}),c]}),Object(r.jsxs)("button",{className:"btn btn-success",to:"/product_verify","data-dismiss":"modal",onClick:function(t){t.preventDefault(),n({type:U}),e.history.push("/product_verify")},children:["Continue",Object(r.jsx)("i",{className:"material-icons"})]})]})]})})})})}),Object(r.jsx)("div",{className:"col-md-3"})]})})};var re=function(e){var t=Object(v.c)((function(e){return e.userHistory})),c=t.loading,a=t.error,s=t.histories;console.log(s);var i=Object(v.b)();return Object(n.useEffect)((function(){i(function(){var e=Object(S.a)(y.a.mark((function e(t,c){var r,n,a,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Q}),r=c(),n=r.userSignin.userInfo,e.prev=2,e.next=5,w.a.get("/api/user/history",{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,s=a.data,t({type:V,payload:s}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:z,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,c){return e.apply(this,arguments)}}())}),[i]),Object(r.jsx)("div",{children:c?Object(r.jsx)(P,{}):a?Object(r.jsx)(G,{variant:"danger",children:a}):Object(r.jsxs)("div",{className:"container mt-5",children:[Object(r.jsx)("h2",{className:"",children:"Transaction"}),s.length>0?Object(r.jsxs)("table",{className:"table table-hover table-fixed",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Phone Number"}),Object(r.jsx)("th",{children:"Product Name"}),Object(r.jsx)("th",{children:"Serial Number"}),Object(r.jsx)("th",{children:"Point"}),Object(r.jsx)("th",{children:"Pin Code"})]})}),Object(r.jsx)("tbody",{children:s.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:["0",e.user.phone]}),Object(r.jsx)("td",{children:e.usedSerial_Product_Name}),Object(r.jsx)("td",{children:e.usedSerial}),Object(r.jsx)("td",{children:e.point}),Object(r.jsx)("td",{children:e.code})]})}))})]}):Object(r.jsx)("div",{className:"center",children:"Transaction Empty"})]})})},ne=c(25),ae=c(3);function se(e){var t=e.component,c=Object(ae.a)(e,["component"]),n=Object(v.c)((function(e){return e.userSignin})).userInfo;return Object(r.jsx)(o.b,Object(ne.a)(Object(ne.a)({},c),{},{render:function(e){return n&&"user"===n.account?Object(r.jsx)(t,Object(ne.a)({},e)):Object(r.jsx)(o.a,{to:"/"})}}))}var ie="PRODUCT_ADD_REQUEST",oe="PRODUCT_ADD_SUCCESS",de="PRODUCT_ADD_FAIL",le="PRODUCT_ADD_RESET",je="PRODUCT_LIST_REQUEST",ue="PRODUCT_LIST_SUCCESS",be="PRODUCT_LIST_FAIL",he="USED_PRODUCT_LIST_REQUEST",me="USED_PRODUCT_LIST_SUCCESS",pe="USED_PRODUCT_LIST_FAIL",Oe="USERS_LIST_REQUEST",xe="USERS_LIST_SUCCESS",ve="USERS_LIST_FAIL",fe="USER_DETAILS_REQUEST",ge="USER_DETAILS_SUCCESS",Ne="USER_DETAILS_FAIL",ye=c(78);var Se=function(e){var t=Object(v.c)((function(e){return e.adminProductList})),c=t.loading,a=t.products,s=t.error,i={data:a,headers:[{label:"Product Name",key:"product"},{label:"Serial Number",key:"serial"},{label:"Batch No",key:"batch_no"},{label:"Pin Code",key:"pin_code"},{label:"QR Code",key:"QRcode"}],filename:"Products.csv"},o=Object(v.b)();return Object(n.useEffect)((function(){return o(function(){var e=Object(S.a)(y.a.mark((function e(t,c){var r,n,a,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:je}),r=c(),n=r.userSignin.userInfo,e.prev=2,e.next=5,w.a.get("/api/admin/products",{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,s=a.data,t({type:ue,payload:s}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:be,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,c){return e.apply(this,arguments)}}()),function(){}}),[o]),Object(r.jsx)("div",{className:"container",children:c?Object(r.jsx)(P,{}):s?Object(r.jsx)(G,{variant:"danger",children:s}):Object(r.jsxs)("div",{className:"mt-5",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-ml-6 pb-4",children:Object(r.jsx)("h2",{className:"",children:"Products"})}),Object(r.jsx)("div",{className:"col-ml-6 ml-auto",children:a.length>0?Object(r.jsx)(ye.CSVLink,Object(ne.a)(Object(ne.a)({},i),{},{className:"btn btn-primary btn-sm",children:"Download CSV"})):Object(r.jsx)("div",{className:"btn btn-danger btn-sm",children:"Unavailable"})})]}),Object(r.jsx)("div",{className:"product-list mt-4",children:a.length>0?Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"ID"}),Object(r.jsx)("th",{children:"Product Name"}),Object(r.jsx)("th",{children:"Serial No"}),Object(r.jsx)("th",{children:"Batch No"}),Object(r.jsx)("th",{children:"Pin Code"}),Object(r.jsx)("th",{children:"Point"}),Object(r.jsx)("th",{children:"QRcode"})]})}),Object(r.jsx)("tbody",{children:a.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e._id}),Object(r.jsx)("td",{children:e.product}),Object(r.jsx)("td",{children:e.serial}),Object(r.jsx)("td",{children:e.batch_no}),Object(r.jsx)("td",{children:e.pin_code}),Object(r.jsx)("td",{children:e.points}),Object(r.jsx)("td",{children:"QRcode"})]},e._id)}))})]}):Object(r.jsx)("div",{className:"center mt-5",children:"Products Empty"})})]})})};var _e=function(e){var t=Object(v.c)((function(e){return e.adminUserList})),c=t.loading,a=t.error,s=t.users,o=Object(v.b)();return Object(n.useEffect)((function(){o(function(){var e=Object(S.a)(y.a.mark((function e(t,c){var r,n,a,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Oe}),r=c(),n=r.userSignin.userInfo,e.prev=2,e.next=5,w.a.get("/api/admin/users",{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,s=a.data,t({type:xe,payload:s}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:ve,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,c){return e.apply(this,arguments)}}())}),[o]),Object(r.jsx)("div",{children:c?Object(r.jsx)(P,{}):a?Object(r.jsx)(G,{variant:"danger",children:a}):Object(r.jsxs)("div",{className:"container mt-5",children:[Object(r.jsx)("h2",{className:"",children:"User List"}),s.length>0?Object(r.jsxs)("table",{className:"table table-hover table-fixed",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"User ID"}),Object(r.jsx)("th",{children:"First Name"}),Object(r.jsx)("th",{children:"Last Number"}),Object(r.jsx)("th",{children:"Point"}),Object(r.jsx)("th",{children:"Activites"})]})}),Object(r.jsx)("tbody",{children:s.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"1"}),Object(r.jsxs)("td",{children:["0",e.phone]}),Object(r.jsx)("td",{children:e.firstName}),Object(r.jsx)("td",{children:e.lastName}),Object(r.jsx)("td",{children:e.points}),Object(r.jsx)("td",{children:Object(r.jsx)(i.b,{to:"/user/"+e._id,children:"View user"})})]},e._id)}))})]}):Object(r.jsx)("div",{className:"center",children:"User List Empty"})]})})};function we(e){var t=e.component,c=Object(ae.a)(e,["component"]),n=Object(v.c)((function(e){return e.userSignin})).userInfo;return Object(r.jsx)(o.b,Object(ne.a)(Object(ne.a)({},c),{},{render:function(e){return n&&"admin"===n.account?Object(r.jsx)(t,Object(ne.a)({},e)):Object(r.jsx)(o.a,{to:"/"})}}))}var Ee=function(){var e=Object(v.c)((function(e){return e.adminProductUsedList})),t=e.loading,c=e.error,a=e.products;console.log(a);var s=Object(v.b)();return Object(n.useEffect)((function(){return s(function(){var e=Object(S.a)(y.a.mark((function e(t,c){var r,n,a,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:he}),r=c(),n=r.userSignin.userInfo,e.prev=2,e.next=5,w.a.get("/api/admin/used_product",{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,s=a.data,t({type:me,payload:s}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:pe,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,c){return e.apply(this,arguments)}}()),function(){}}),[s]),Object(r.jsx)("div",{className:"container",children:t?Object(r.jsx)(P,{}):c?Object(r.jsx)(G,{children:c}):Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("div",{className:"pb-4 pt-4",children:Object(r.jsx)("h2",{className:"",children:"Products"})}),Object(r.jsx)("div",{className:"product-list mt-4",children:a.length>0?Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"ID"}),Object(r.jsx)("th",{children:"Product Name"}),Object(r.jsx)("th",{children:"Serial No"}),Object(r.jsx)("th",{children:"Batch No"}),Object(r.jsx)("th",{children:"Pin Code"}),Object(r.jsx)("th",{children:"Point"}),Object(r.jsx)("th",{children:"User ID"})]})}),Object(r.jsx)("tbody",{children:a.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e._id}),Object(r.jsx)("td",{children:e.usedSerial_Product_Name}),Object(r.jsx)("td",{children:e.usedSerial}),Object(r.jsx)("td",{children:e.batch}),Object(r.jsx)("td",{children:e.code}),Object(r.jsx)("td",{children:e.point}),Object(r.jsxs)("td",{children:["0",e.user.phone]})]},e._id)}))})]}):Object(r.jsx)("center",{children:Object(r.jsx)("div",{className:"center mt-5",children:"Products Empty"})})})]})})};var Ie=function(e){var t=Object(v.c)((function(e){return e.adminUserDetails})),c=t.loading,a=t.error,s=t.histories,o=Object(v.b)();return Object(n.useEffect)((function(){var t;return o((t=e.match.params.id,function(){var e=Object(S.a)(y.a.mark((function e(c,r){var n,a,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:fe,payload:t}),n=r(),a=n.userSignin.userInfo,e.prev=2,e.next=5,w.a.get("/api/admin/user/"+t,{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=e.sent,i=s.data,c({type:ge,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),c({type:Ne,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,c){return e.apply(this,arguments)}}())),function(){}}),[o,e.match]),Object(r.jsx)("div",{className:"container",children:c?Object(r.jsx)(P,{}):a?Object(r.jsx)(G,{variant:"danger",children:a}):Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("div",{className:"mt-4 mb-4",children:Object(r.jsx)(i.b,{className:"btn btn-primary btn-sm",to:"/users",children:"Back"})}),Object(r.jsx)("div",{className:"mb-4 mt-4",children:Object(r.jsx)("h2",{children:"User Activites"})}),s.length>0?Object(r.jsxs)("table",{className:"table table-hover table-fixed",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"User ID"}),Object(r.jsx)("th",{children:"Product Name"}),Object(r.jsx)("th",{children:"Product Batch"}),Object(r.jsx)("th",{children:"Pin Code"}),Object(r.jsx)("th",{children:"Point"})]})}),Object(r.jsx)("tbody",{children:s.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:["0",e.user.phone]}),Object(r.jsx)("td",{children:e.usedSerial_Product_Name}),Object(r.jsx)("td",{children:e.batch}),Object(r.jsx)("td",{children:e.code}),Object(r.jsx)("td",{children:e.point})]},e._id)}))})]}):Object(r.jsx)("div",{className:"",children:"No Activites"})]})})};var Ce=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(""),u=Object(d.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(10),p=Object(d.a)(m,2),O=p[0],x=p[1],f=Object(n.useState)(""),g=Object(d.a)(f,2),N=g[0],_=g[1],E=Object(v.c)((function(e){return e.adminAddProduct})),I=E.loading,C=E.success,U=E.error,R=Object(v.b)(),k=function(e){if(e.preventDefault(),""===b||null===b)return alert("All field must be filled"),!1;R(function(e,t,c,r,n){return function(){var a=Object(S.a)(y.a.mark((function a(s,i){var o,d,l,j;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s({type:ie,payload:{productName:e,batchNumber:t,serialNumber:c,point:r,numberOfProducts:n}}),o=i(),d=o.userSignin.userInfo,a.prev=2,a.next=5,w.a.post("/api/admin/code-generator",{productName:e,batchNumber:t,serialNumber:c,point:r,numberOfProducts:n},{headers:{Authorization:"Bearer "+d.token}});case 5:l=a.sent,j=l.data,s({type:oe,payload:j}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),s({type:de,payload:a.t0.message});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(c,o,b,O,N))};return Object(n.useEffect)((function(){if(C){var e=setTimeout((function(){R({type:le})}),3e3);return function(){return clearTimeout(e)}}}),[R,C]),Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"row mt-5 h-100",children:[Object(r.jsx)("div",{className:"col-md-3"}),Object(r.jsx)("div",{className:"col-md-6",children:I?Object(r.jsx)(P,{}):U?Object(r.jsx)(G,{variant:"danger",children:U}):Object(r.jsxs)("div",{children:[C&&Object(r.jsx)(G,{children:"Product Created Successfully"}),Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("h5",{className:"card-header info-color white-text text-center py-4",children:Object(r.jsx)("strong",{children:"Product Unique Pin Generator"})}),Object(r.jsx)("div",{className:"card-body px-lg-5 pt-0",children:Object(r.jsxs)("form",{className:"text-center",onSubmit:k,children:[Object(r.jsxs)("div",{className:"md-form",children:[Object(r.jsx)("input",{type:"text",id:"materialLoginFormText",className:"form-control",onChange:function(e){return a(e.target.value)},required:!0}),Object(r.jsx)("label",{htmlFor:"materialLoginFormText",children:"Product Name"})]}),Object(r.jsxs)("div",{className:"md-form",children:[Object(r.jsx)("input",{type:"number",id:"materialLoginFormNumber",className:"form-control",onChange:function(e){return l(e.target.value)},required:!0}),Object(r.jsx)("label",{htmlFor:"materialLoginFormNumber",children:"Batch Number"})]}),Object(r.jsxs)("div",{className:"md-form",children:[Object(r.jsx)("input",{type:"number",id:"materialLoginFormNumber",className:"form-control",onChange:function(e){return h(e.target.value)},required:!0}),Object(r.jsx)("label",{htmlFor:"materialLoginFormNumber",children:"Serial Number"})]}),Object(r.jsxs)("div",{className:"md-form",children:[Object(r.jsx)("input",{type:"number",id:"materialLoginFormNumber",className:"form-control",onChange:function(e){return x(e.target.value)},required:!0}),Object(r.jsx)("label",{htmlFor:"materialLoginFormNumber",children:"Point"})]}),Object(r.jsxs)("div",{className:"md-form",children:[Object(r.jsx)("input",{type:"number",id:"materialLoginFormNumber",className:"form-control",onChange:function(e){return _(e.target.value)},required:!0}),Object(r.jsx)("label",{htmlFor:"materialLoginFormNumber",children:"Number of Products"})]}),Object(r.jsx)("button",{className:"btn btn-outline-info btn-rounded btn-block my-4 waves-effect z-depth-0",type:"submit",onClick:k,children:"Generate"})]})})]})]})}),Object(r.jsx)("div",{className:"col-md-3"})]})})};var Ue=function(e){var t=Object(v.c)((function(e){return e.userSignin})).userInfo,c=Object(v.b)();return Object(r.jsx)(i.a,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)("nav",{className:"mb-1 navbar navbar-expand-lg navbar-dark info-color",children:[t?Object(r.jsx)("div",{children:Object(r.jsx)(i.b,{className:"navbar-brand",to:"/product_verify",children:"Navbar"})}):Object(r.jsx)("div",{children:Object(r.jsx)(i.b,{className:"navbar-brand",to:"/",children:"Navbar"})}),Object(r.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent-4","aria-controls":"navbarSupportedContent-4","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(r.jsx)("span",{className:"navbar-toggler-icon"})}),Object(r.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent-4",children:[Object(r.jsx)("ul",{className:"navbar-nav mr-auto",children:t&&"admin"===t.account&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("li",{className:"nav-item dropdown",children:[Object(r.jsxs)(i.b,{className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink-4","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(r.jsx)("i",{className:"fas fa-list"})," Products"]}),Object(r.jsxs)("div",{className:"dropdown-menu dropdown-menu-left dropdown-info","aria-labelledby":"navbarDropdownMenuLink-4",children:[Object(r.jsx)(i.b,{className:"dropdown-item",to:"/add_product",children:"New Product"}),Object(r.jsx)(i.b,{className:"dropdown-item",to:"/products",children:"All Products"}),Object(r.jsx)(i.b,{className:"dropdown-item",to:"/used_products",children:"Used Products"})]})]}),Object(r.jsxs)("li",{className:"nav-item dropdown",children:[Object(r.jsxs)(i.b,{className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink-4","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(r.jsx)("i",{className:"fas fa-user"})," Users"]}),Object(r.jsx)("div",{className:"dropdown-menu dropdown-menu-right dropdown-info","aria-labelledby":"navbarDropdownMenuLink-4",children:Object(r.jsx)(i.b,{className:"dropdown-item",to:"/users",children:"All Users"})})]})]})}),Object(r.jsx)("ul",{className:"navbar-nav ml-auto",children:t?Object(r.jsxs)("li",{className:"nav-item dropdown",children:[Object(r.jsx)("a",{className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink-4","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",href:"",children:Object(r.jsx)("i",{className:"fas fa-user"})}),Object(r.jsxs)("div",{className:"dropdown-menu dropdown-menu-right dropdown-info","aria-labelledby":"navbarDropdownMenuLink-4",children:[Object(r.jsx)(i.b,{className:"dropdown-item",to:"/transaction",children:"Transaction"}),Object(r.jsx)("a",{className:"dropdown-item",href:"",onClick:function(){c((function(e){localStorage.removeItem("userInfo"),e({type:A})}))},children:"Log out"})]})]}):Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(i.b,{to:"/",className:"sign-color",children:"Sign In"})})})]})]}),Object(r.jsx)("main",{children:Object(r.jsxs)(o.d,{children:[Object(r.jsx)(se,{path:"/qr_scanner",component:k}),Object(r.jsx)(se,{path:"/code_verify",component:ee}),Object(r.jsx)(se,{path:"/result",component:te}),Object(r.jsx)(se,{path:"/result_fail",component:ce}),Object(r.jsx)(se,{path:"/transaction",component:re}),Object(r.jsx)(we,{path:"/products",component:Se}),Object(r.jsx)(we,{path:"/add_product",component:Ce}),Object(r.jsx)(we,{path:"/users",component:_e}),Object(r.jsx)(we,{path:"/user/:id",component:Ie}),Object(r.jsx)(we,{path:"/used_products",component:Ee}),Object(r.jsx)(o.b,{exact:!0,path:"/register",component:Z}),Object(r.jsx)(o.b,{path:"/qr_generator",component:x}),Object(r.jsx)(o.b,{path:"/product_verify",component:W}),Object(r.jsx)(o.b,{path:"/",exact:!0,component:M})]})})]})})},Re=c(32),Pe=c(79);var ke={userSignin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Te=Object(Re.c)({userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{loading:!0};case L:return{loading:!1,userInfo:t.payload};case D:return{loading:!1,error:t.payload};case A:return{};default:return e}},productVerify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{verified:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!0};case I:return{loading:!1,verified:t.payload,success:!0};case C:return{loading:!1,error:t.payload};case U:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0};case q:return{loading:!1,userInfo:t.payload};case B:return{loading:!1,error:t.payload};default:return e}},adminAddProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case oe:return{loading:!1,success:!0,product:t.payload};case de:return{loading:!1,error:t.payload};case le:return{};default:return e}},userHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{histories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0};case V:return{loading:!1,histories:t.payload};case z:return{loading:!1,error:t.payload};default:return e}},adminProductList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return{loading:!0,products:[]};case ue:return{loading:!1,products:t.payload};case be:return{loading:!1,error:t.payload};default:return e}},adminUserList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case xe:return{loading:!1,users:t.payload};case ve:return{loading:!1,error:t.payload};default:return e}},adminUserDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{histories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return{loading:!0};case ge:return{loading:!1,histories:t.payload};case Ne:return{loading:!1,error:t.payload};default:return e}},adminProductUsedList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{loading:!0};case me:return{loading:!1,products:t.payload};case pe:return{loading:!1,error:t.payload};default:return e}}}),Le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Re.d,De=Object(Re.e)(Te,ke,Le(Object(Re.a)(Pe.a)));s.a.render(Object(r.jsx)(v.a,{store:De,children:Object(r.jsx)(Ue,{})}),document.getElementById("root"))},94:function(e,t,c){},95:function(e,t,c){}},[[136,1,2]]]);
//# sourceMappingURL=main.eccac187.chunk.js.map