{"ast":null,"code":"/** @format */\nimport Axios from 'axios';\nimport { PRODUCT_VERIFY_REQUEST, PRODUCT_VERIFY_SUCCESS, PRODUCT_VERIFY_FAIL, PRODUCT_FARM_SAVE_DETAIL } from '../constants/productConstants';\n\nconst saveFarmDetail = data => dispatch => {\n  dispatch({\n    type: PRODUCT_FARM_SAVE_DETAIL,\n    payload: data\n  });\n  localStorage.setItem('farmInfo', JSON.stringify(farm));\n};\n\nconst verify = code => async (dispatch, getState) => {\n  dispatch({\n    type: PRODUCT_VERIFY_REQUEST,\n    payload: {\n      code\n    }\n  });\n  const {\n    userSignin: {\n      userInfo\n    },\n    farmPackage: {\n      farmInfo\n    }\n  } = getState();\n\n  try {\n    const {\n      data\n    } = await Axios.post('/api/user/verify-product', {\n      code,\n      farmInfo\n    }, {\n      headers: {\n        Authorization: 'Bearer ' + userInfo.token\n      }\n    });\n    dispatch({\n      type: PRODUCT_VERIFY_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n    dispatch({\n      type: PRODUCT_VERIFY_FAIL,\n      payload: message\n    });\n  }\n};\n\nexport { verify, saveFarmDetail };","map":{"version":3,"sources":["/Users/apple/Downloads/React-verification-system/client/src/actions/productActions.js"],"names":["Axios","PRODUCT_VERIFY_REQUEST","PRODUCT_VERIFY_SUCCESS","PRODUCT_VERIFY_FAIL","PRODUCT_FARM_SAVE_DETAIL","saveFarmDetail","data","dispatch","type","payload","localStorage","setItem","JSON","stringify","farm","verify","code","getState","userSignin","userInfo","farmPackage","farmInfo","post","headers","Authorization","token","error","message","response"],"mappings":"AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACCC,sBADD,EAECC,sBAFD,EAGCC,mBAHD,EAICC,wBAJD,QAKO,+BALP;;AAOA,MAAMC,cAAc,GAAIC,IAAD,IAAWC,QAAD,IAAc;AAC9CA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEJ,wBAAR;AAAkCK,IAAAA,OAAO,EAAEH;AAA3C,GAAD,CAAR;AACAI,EAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeC,IAAf,CAAjC;AACA,CAHD;;AAKA,MAAMC,MAAM,GAAIC,IAAD,IAAU,OAAOT,QAAP,EAAiBU,QAAjB,KAA8B;AACtDV,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEP,sBAAR;AAAgCQ,IAAAA,OAAO,EAAE;AAAEO,MAAAA;AAAF;AAAzC,GAAD,CAAR;AACC,QAAM;AACJE,IAAAA,UAAU,EAAE;AAAEC,MAAAA;AAAF,KADR;AAENC,IAAAA,WAAW,EAAE;AAAEC,MAAAA;AAAF;AAFP,MAGHJ,QAAQ,EAHX;;AAID,MAAI;AACH,UAAM;AAAEX,MAAAA;AAAF,QAAW,MAAMN,KAAK,CAACsB,IAAN,CACtB,0BADsB,EAEtB;AAAEN,MAAAA,IAAF;AAAQK,MAAAA;AAAR,KAFsB,EAGtB;AACCE,MAAAA,OAAO,EAAE;AACRC,QAAAA,aAAa,EAAE,YAAYL,QAAQ,CAACM;AAD5B;AADV,KAHsB,CAAvB;AASAlB,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEN,sBAAR;AAAgCO,MAAAA,OAAO,EAAEH;AAAzC,KAAD,CAAR;AACA,GAXD,CAWE,OAAOoB,KAAP,EAAc;AACf,UAAMC,OAAO,GACZD,KAAK,CAACE,QAAN,IAAkBF,KAAK,CAACE,QAAN,CAAetB,IAAf,CAAoBqB,OAAtC,GAAgDD,KAAK,CAACE,QAAN,CAAetB,IAAf,CAAoBqB,OAApE,GAA8ED,KAAK,CAACC,OADrF;AAEApB,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,mBAAR;AAA6BM,MAAAA,OAAO,EAAEkB;AAAtC,KAAD,CAAR;AACA;AACD,CAtBD;;AAwBA,SAASZ,MAAT,EAAiBV,cAAjB","sourcesContent":["/** @format */\r\n\r\nimport Axios from 'axios';\r\nimport {\r\n\tPRODUCT_VERIFY_REQUEST,\r\n\tPRODUCT_VERIFY_SUCCESS,\r\n\tPRODUCT_VERIFY_FAIL,\r\n\tPRODUCT_FARM_SAVE_DETAIL\r\n} from '../constants/productConstants';\r\n\r\nconst saveFarmDetail = (data) => (dispatch) => {\r\n\tdispatch({ type: PRODUCT_FARM_SAVE_DETAIL, payload: data });\r\n\tlocalStorage.setItem('farmInfo', JSON.stringify(farm));\r\n};\r\n\r\nconst verify = (code) => async (dispatch, getState) => {\r\n\tdispatch({ type: PRODUCT_VERIFY_REQUEST, payload: { code } });\r\n  const {\r\n    userSignin: { userInfo },\r\n\t\tfarmPackage: { farmInfo }\r\n\t} = getState();\r\n\ttry {\r\n\t\tconst { data } = await Axios.post(\r\n\t\t\t'/api/user/verify-product',\r\n\t\t\t{ code, farmInfo },\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: 'Bearer ' + userInfo.token\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\tdispatch({ type: PRODUCT_VERIFY_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tconst message =\r\n\t\t\terror.response && error.response.data.message ? error.response.data.message : error.message;\r\n\t\tdispatch({ type: PRODUCT_VERIFY_FAIL, payload: message });\r\n\t}\r\n};\r\n\r\nexport { verify, saveFarmDetail };\r\n"]},"metadata":{},"sourceType":"module"}