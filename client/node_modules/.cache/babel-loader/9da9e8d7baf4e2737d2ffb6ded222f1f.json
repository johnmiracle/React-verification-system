{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/apple/Downloads/React-verification-system/client/src/pages/PicUploadNoCrop.js\";\n\n/** @format */\nimport React, { Component } from 'react'; // import { Form } from 'semantic-ui-react';\n\nimport { connect } from 'react-redux';\n\nclass PicUploadNoCrop extends Component {\n  constructor() {\n    super();\n\n    this.handleFile = e => {\n      this.setState({\n        photoFile: e.target.files[0]\n      });\n      const file = e.target.files[0];\n      const fileReader = new FileReader();\n\n      fileReader.onloadend = () => {\n        this.setState({\n          photoFile: file,\n          photoUrl: fileReader.result\n        });\n      };\n\n      if (file) {\n        fileReader.readAsDataURL(file);\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append('user[id]', this.props.currentUser.id);\n      formData.append('user[profile_pic]', this.state.photoFile); // addPhotoToUser is an ajax call to save the picture in database\n      // addPhotoToUser(this.props.currentUser, formData);\n    };\n\n    this.state = {\n      photoFile: null,\n      photoUrl: null\n    };\n  }\n\n  render() {\n    const preview = this.state.photoUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: this.state.photoUrl,\n      alt: \"preview\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 41\n    }, this) : null;\n    return /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: this.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"profile_pic\",\n        value: this.state.profile_pic,\n        onChange: this.handleFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this), preview, /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapSTP = state => {\n  return {\n    currentUser: state.currentUser\n  };\n};\n\nexport default connect(mapSTP)(PicUploadNoCrop);","map":{"version":3,"sources":["/Users/apple/Downloads/React-verification-system/client/src/pages/PicUploadNoCrop.js"],"names":["React","Component","connect","PicUploadNoCrop","constructor","handleFile","e","setState","photoFile","target","files","file","fileReader","FileReader","onloadend","photoUrl","result","readAsDataURL","handleSubmit","preventDefault","formData","FormData","append","props","currentUser","id","state","render","preview","profile_pic","mapSTP"],"mappings":";;;AAAA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,eAAN,SAA8BF,SAA9B,CAAwC;AACvCG,EAAAA,WAAW,GAAG;AACb;;AADa,SAQdC,UARc,GAQAC,CAAD,IAAO;AACnB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,SAAS,EAAEF,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf;AAAb,OAAd;AACA,YAAMC,IAAI,GAAGL,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA,YAAME,UAAU,GAAG,IAAIC,UAAJ,EAAnB;;AACAD,MAAAA,UAAU,CAACE,SAAX,GAAuB,MAAM;AAC5B,aAAKP,QAAL,CAAc;AAAEC,UAAAA,SAAS,EAAEG,IAAb;AAAmBI,UAAAA,QAAQ,EAAEH,UAAU,CAACI;AAAxC,SAAd;AACA,OAFD;;AAGA,UAAIL,IAAJ,EAAU;AACTC,QAAAA,UAAU,CAACK,aAAX,CAAyBN,IAAzB;AACA;AACD,KAlBa;;AAAA,SAoBdO,YApBc,GAoBEZ,CAAD,IAAO;AACrBA,MAAAA,CAAC,CAACa,cAAF;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4B,KAAKC,KAAL,CAAWC,WAAX,CAAuBC,EAAnD;AACAL,MAAAA,QAAQ,CAACE,MAAT,CAAgB,mBAAhB,EAAqC,KAAKI,KAAL,CAAWlB,SAAhD,EAJqB,CAKrB;AACA;AACA,KA3Ba;;AAEb,SAAKkB,KAAL,GAAa;AACZlB,MAAAA,SAAS,EAAE,IADC;AAEZO,MAAAA,QAAQ,EAAE;AAFE,KAAb;AAIA;;AAuBDY,EAAAA,MAAM,GAAG;AACR,UAAMC,OAAO,GAAG,KAAKF,KAAL,CAAWX,QAAX,gBAAsB;AAAK,MAAA,GAAG,EAAE,KAAKW,KAAL,CAAWX,QAArB;AAA+B,MAAA,GAAG,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA,YAAtB,GAAwE,IAAxF;AAEA,wBACC,QAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKG,YAArB;AAAA,8BACC;AACC,QAAA,IAAI,EAAC,MADN;AAEC,QAAA,EAAE,EAAC,aAFJ;AAGC,QAAA,KAAK,EAAE,KAAKQ,KAAL,CAAWG,WAHnB;AAIC,QAAA,QAAQ,EAAE,KAAKxB;AAJhB;AAAA;AAAA;AAAA;AAAA,cADD,EAOEuB,OAPF,eAQC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAYA;;AA7CsC;;AAgDxC,MAAME,MAAM,GAAIJ,KAAD,IAAW;AACzB,SAAO;AAAEF,IAAAA,WAAW,EAAEE,KAAK,CAACF;AAArB,GAAP;AACA,CAFD;;AAIA,eAAetB,OAAO,CAAC4B,MAAD,CAAP,CAAgB3B,eAAhB,CAAf","sourcesContent":["/** @format */\n\nimport React, { Component } from 'react';\n// import { Form } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\n\nclass PicUploadNoCrop extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tphotoFile: null,\n\t\t\tphotoUrl: null\n\t\t};\n\t}\n\n\thandleFile = (e) => {\n\t\tthis.setState({ photoFile: e.target.files[0] });\n\t\tconst file = e.target.files[0];\n\t\tconst fileReader = new FileReader();\n\t\tfileReader.onloadend = () => {\n\t\t\tthis.setState({ photoFile: file, photoUrl: fileReader.result });\n\t\t};\n\t\tif (file) {\n\t\t\tfileReader.readAsDataURL(file);\n\t\t}\n\t};\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst formData = new FormData();\n\t\tformData.append('user[id]', this.props.currentUser.id);\n\t\tformData.append('user[profile_pic]', this.state.photoFile);\n\t\t// addPhotoToUser is an ajax call to save the picture in database\n\t\t// addPhotoToUser(this.props.currentUser, formData);\n\t};\n\n\trender() {\n\t\tconst preview = this.state.photoUrl ? <img src={this.state.photoUrl} alt=\"preview\" /> : null;\n\n\t\treturn (\n\t\t\t<Form onSubmit={this.handleSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tid=\"profile_pic\"\n\t\t\t\t\tvalue={this.state.profile_pic}\n\t\t\t\t\tonChange={this.handleFile}\n\t\t\t\t/>\n\t\t\t\t{preview}\n\t\t\t\t<button>save</button>\n\t\t\t</Form>\n\t\t);\n\t}\n}\n\nconst mapSTP = (state) => {\n\treturn { currentUser: state.currentUser };\n};\n\nexport default connect(mapSTP)(PicUploadNoCrop);\n"]},"metadata":{},"sourceType":"module"}