{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Downloads/React-verification-system/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";/** @format */import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Fab}from'@material-ui/core';import{ArrowBack}from'@material-ui/icons';import{Link}from'react-router-dom';import QrScan from'react-qr-reader';import{verify}from'../actions/productActions';import LoadingBox from'../components/LoadingBox';function QRscanner(props){var _useState=useState('environment'),_useState2=_slicedToArray(_useState,2),faceMode=_useState2[0],setFaceMode=_useState2[1];var productVerify=useSelector(function(state){return state.productVerify;});var loading=productVerify.loading,successfulVerify=productVerify.success,error=productVerify.error;var dispatch=useDispatch();var handleScan=function handleScan(code){if(code){dispatch(verify(code));}};var handleError=function handleError(err){console.error(err);};// const cameraButton = () => {\n// \tif (facingMode === 'environment') {\n// \t\tsetState({\n// \t\t\tfaceMode: 'user'\n// \t\t});\n// \t} else {\n// \t\tsetState({\n// \t\t\tfacingMode: 'environment'\n// \t\t});\n// \t}\n// };\nuseEffect(function(){if(successfulVerify){var redirect='/result';props.history.push(redirect);}if(error){var _redirect='/result_fail';props.history.push(_redirect);}return function(){//\n};},[successfulVerify,error,props.history]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/product_verify\",children:/*#__PURE__*/_jsx(Fab,{style:{marginRight:10},color:\"primary\",children:/*#__PURE__*/_jsx(ArrowBack,{})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"QR Scanner\"}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"Camera...\",className:\"btn btn-primary btn-sm\",onClick:cameraButton}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:30},children:/*#__PURE__*/_jsx(QrScan,{delay:300,facingMode:function facingMode(e){return setFaceMode(e.target.value);},onError:handleError,onScan:handleScan,style:{height:240,width:320}})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\"})]})]})});}export default QRscanner;","map":{"version":3,"sources":["/Users/apple/Downloads/React-verification-system/client/src/pages/QRscanner.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Fab","ArrowBack","Link","QrScan","verify","LoadingBox","QRscanner","props","faceMode","setFaceMode","productVerify","state","loading","successfulVerify","success","error","dispatch","handleScan","code","handleError","err","console","redirect","history","push","marginRight","cameraButton","marginTop","e","target","value","height","width"],"mappings":"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","sourcesContent":["/** @format */\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Fab } from '@material-ui/core';\nimport { ArrowBack } from '@material-ui/icons';\nimport { Link } from 'react-router-dom';\nimport QrScan from 'react-qr-reader';\nimport { verify } from '../actions/productActions';\nimport LoadingBox from '../components/LoadingBox';\n\nfunction QRscanner(props) {\n\tconst [faceMode, setFaceMode] = useState('environment');\n\tconst productVerify = useSelector((state) => state.productVerify);\n\tconst { loading, success: successfulVerify, error } = productVerify;\n\n\tconst dispatch = useDispatch();\n\tconst handleScan = (code) => {\n\t\tif (code) {\n\t\t\tdispatch(verify(code));\n\t\t}\n\t};\n\tconst handleError = (err) => {\n\t\tconsole.error(err);\n\t};\n\n\t// const cameraButton = () => {\n\t// \tif (facingMode === 'environment') {\n\t// \t\tsetState({\n\t// \t\t\tfaceMode: 'user'\n\t// \t\t});\n\t// \t} else {\n\t// \t\tsetState({\n\t// \t\t\tfacingMode: 'environment'\n\t// \t\t});\n\t// \t}\n\t// };\n\n\tuseEffect(() => {\n\t\tif (successfulVerify) {\n\t\t\tlet redirect = '/result';\n\t\t\tprops.history.push(redirect);\n\t\t}\n\t\tif (error) {\n\t\t\tlet redirect = '/result_fail';\n\t\t\tprops.history.push(redirect);\n\t\t}\n\t\treturn () => {\n\t\t\t//\n\t\t};\n\t}, [successfulVerify, error, props.history]);\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t{loading ? (\n\t\t\t\t<LoadingBox></LoadingBox>\n\t\t\t) : (\n\t\t\t\t<div className=\"\">\n\t\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t\t<Link to=\"/product_verify\">\n\t\t\t\t\t\t\t<Fab style={{ marginRight: 10 }} color=\"primary\">\n\t\t\t\t\t\t\t\t<ArrowBack />\n\t\t\t\t\t\t\t</Fab>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-md-3\"></div>\n\t\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t\t<center>\n\t\t\t\t\t\t\t\t<span>QR Scanner</span>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tvalue=\"Camera...\"\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-sm\"\n\t\t\t\t\t\t\t\t\tonClick={cameraButton}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: 30 }}>\n\t\t\t\t\t\t\t\t\t<QrScan\n\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\tfacingMode={(e) => setFaceMode(e.target.value)}\n\t\t\t\t\t\t\t\t\t\tonError={handleError}\n\t\t\t\t\t\t\t\t\t\tonScan={handleScan}\n\t\t\t\t\t\t\t\t\t\tstyle={{ height: 240, width: 320 }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</center>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-md-3\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default QRscanner;\n"]},"metadata":{},"sourceType":"module"}