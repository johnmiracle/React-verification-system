{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Downloads/React-verification-system/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/apple/Downloads/React-verification-system/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Axios from\"axios\";import{PRODUCT_VERIFY_REQUEST,PRODUCT_VERIFY_SUCCESS,PRODUCT_VERIFY_FAIL}from\"../constants/productConstants\";var verify=function verify(code){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _getState,userInfo,_yield$Axios$post,data,message;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:PRODUCT_VERIFY_REQUEST,payload:{code:code}});_getState=getState(),userInfo=_getState.userSignin.userInfo;_context.prev=2;_context.next=5;return Axios.post(\"/api/user/verify-product\",{code:code},{headers:{Authorization:\"Bearer \"+userInfo.token}});case 5:_yield$Axios$post=_context.sent;data=_yield$Axios$post.data;dispatch({type:PRODUCT_VERIFY_SUCCESS,payload:data});_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);message=_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message;dispatch({type:PRODUCT_VERIFY_FAIL,payload:message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export{verify};","map":{"version":3,"sources":["/Users/apple/Downloads/React-verification-system/client/src/actions/productActions.js"],"names":["Axios","PRODUCT_VERIFY_REQUEST","PRODUCT_VERIFY_SUCCESS","PRODUCT_VERIFY_FAIL","verify","code","dispatch","getState","type","payload","userInfo","userSignin","post","headers","Authorization","token","data","message","response"],"mappings":"iRAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,sBADF,CAEEC,sBAFF,CAGEC,mBAHF,KAIO,+BAJP,CAMA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,IAAD,iGAAU,iBAAOC,QAAP,CAAiBC,QAAjB,wKACvBD,QAAQ,CAAC,CAAEE,IAAI,CAAEP,sBAAR,CAAgCQ,OAAO,CAAE,CAAEJ,IAAI,CAAJA,IAAF,CAAzC,CAAD,CAAR,CADuB,UAInBE,QAAQ,EAJW,CAGPG,QAHO,WAGrBC,UAHqB,CAGPD,QAHO,uCAMEV,CAAAA,KAAK,CAACY,IAAN,CACrB,0BADqB,CAErB,CAAEP,IAAI,CAAJA,IAAF,CAFqB,CAGrB,CACEQ,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYJ,QAAQ,CAACK,KAD7B,CADX,CAHqB,CANF,wCAMbC,IANa,mBAMbA,IANa,CAerBV,QAAQ,CAAC,CAAEE,IAAI,CAAEN,sBAAR,CAAgCO,OAAO,CAAEO,IAAzC,CAAD,CAAR,CAfqB,iFAiBfC,OAjBe,CAkBnB,YAAMC,QAAN,EAAkB,YAAMA,QAAN,CAAeF,IAAf,CAAoBC,OAAtC,CACI,YAAMC,QAAN,CAAeF,IAAf,CAAoBC,OADxB,CAEI,YAAMA,OApBS,CAqBrBX,QAAQ,CAAC,CAAEE,IAAI,CAAEL,mBAAR,CAA6BM,OAAO,CAAEQ,OAAtC,CAAD,CAAR,CArBqB,qEAAV,oEAAf,CAyBA,OAASb,MAAT","sourcesContent":["import Axios from \"axios\";\r\nimport {\r\n  PRODUCT_VERIFY_REQUEST,\r\n  PRODUCT_VERIFY_SUCCESS,\r\n  PRODUCT_VERIFY_FAIL,\r\n} from \"../constants/productConstants\";\r\n\r\nconst verify = (code) => async (dispatch, getState) => {\r\n  dispatch({ type: PRODUCT_VERIFY_REQUEST, payload: { code } });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.post(\r\n      \"/api/user/verify-product\",\r\n      { code },\r\n      {\r\n        headers: {\r\n          Authorization: \"Bearer \" + userInfo.token,\r\n        },\r\n      }\r\n    );\r\n    dispatch({ type: PRODUCT_VERIFY_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: PRODUCT_VERIFY_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport { verify };\r\n"]},"metadata":{},"sourceType":"module"}