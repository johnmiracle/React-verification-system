{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/apple/Downloads/React-verification-system/client/src/pages/PicUploadNoCrop.js\";\n\n/** @format */\nimport React, { Component } from 'react'; // import { Form } from 'semantic-ui-react';\n\nimport { connect } from 'react-redux';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nclass PicUploadNoCrop extends Component {\n  constructor() {\n    super();\n\n    this.handleFile = e => {\n      this.setState({\n        photoFile: e.target.files[0]\n      });\n      const file = e.target.files[0];\n      const fileReader = new FileReader();\n\n      fileReader.onloadend = () => {\n        this.setState({\n          photoFile: file,\n          photoUrl: fileReader.result\n        });\n      };\n\n      if (file) {\n        fileReader.readAsDataURL(file);\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append('user[id]', this.props.currentUser.id);\n      formData.append('user[profile_pic]', this.state.photoFile); // addPhotoToUser is an ajax call to save the picture in database\n      // addPhotoToUser(this.props.currentUser, formData);\n    };\n\n    this.state = {\n      photoFile: null,\n      photoUrl: null\n    };\n  }\n\n  render() {\n    const preview = this.state.photoUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: this.state.photoUrl,\n      alt: \"preview\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 41\n    }, this) : null;\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"profile_pic\",\n        value: this.state.profile_pic,\n        onChange: this.handleFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: open,\n        onClose: handleClose,\n        \"aria-labelledby\": \"form-dialog-title\",\n        children: loadingUpdate ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"form-dialog-title\",\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: preview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapSTP = state => {\n  return {\n    currentUser: state.currentUser\n  };\n};\n\nexport default connect(mapSTP)(PicUploadNoCrop);","map":{"version":3,"sources":["/Users/apple/Downloads/React-verification-system/client/src/pages/PicUploadNoCrop.js"],"names":["React","Component","connect","Dialog","DialogActions","DialogContent","DialogTitle","PicUploadNoCrop","constructor","handleFile","e","setState","photoFile","target","files","file","fileReader","FileReader","onloadend","photoUrl","result","readAsDataURL","handleSubmit","preventDefault","formData","FormData","append","props","currentUser","id","state","render","preview","profile_pic","open","handleClose","loadingUpdate","mapSTP"],"mappings":"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","sourcesContent":["/** @format */\n\nimport React, { Component } from 'react';\n// import { Form } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nclass PicUploadNoCrop extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tphotoFile: null,\n\t\t\tphotoUrl: null\n\t\t};\n\t}\n\n\thandleFile = (e) => {\n\t\tthis.setState({ photoFile: e.target.files[0] });\n\t\tconst file = e.target.files[0];\n\t\tconst fileReader = new FileReader();\n\t\tfileReader.onloadend = () => {\n\t\t\tthis.setState({ photoFile: file, photoUrl: fileReader.result });\n\t\t};\n\t\tif (file) {\n\t\t\tfileReader.readAsDataURL(file);\n\t\t}\n\t};\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst formData = new FormData();\n\t\tformData.append('user[id]', this.props.currentUser.id);\n\t\tformData.append('user[profile_pic]', this.state.photoFile);\n\t\t// addPhotoToUser is an ajax call to save the picture in database\n\t\t// addPhotoToUser(this.props.currentUser, formData);\n\t};\n\n\trender() {\n\t\tconst preview = this.state.photoUrl ? <img src={this.state.photoUrl} alt=\"preview\" /> : null;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tid=\"profile_pic\"\n\t\t\t\t\tvalue={this.state.profile_pic}\n\t\t\t\t\tonChange={this.handleFile}\n\t\t\t\t/>\n\t\t\t\t<Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t{loadingUpdate ? (\n\t\t\t\t\t\t<LoadingBox></LoadingBox>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Edit Profile</DialogTitle>\n\t\t\t\t\t\t\t<DialogContent>{preview}</DialogContent>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Dialog>\n\t\t\t\t<button>save</button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nconst mapSTP = (state) => {\n\treturn { currentUser: state.currentUser };\n};\n\nexport default connect(mapSTP)(PicUploadNoCrop);\n"]},"metadata":{},"sourceType":"module"}