{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/apple/Downloads/React-verification-system/client/src/pages/PicUploadNoCrop.js\";\n\n/** @format */\nimport React, { Component } from 'react'; // import { Form } from 'semantic-ui-react';\n\nimport { connect } from 'react-redux';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\n\nclass PicUploadNoCrop extends Component {\n  constructor() {\n    super();\n\n    this.handleFile = e => {\n      const fileReader = new FileReader();\n\n      fileReader.onloadend = () => {\n        this.setState({\n          src: fileReader.result\n        });\n      };\n\n      fileReader.readAsDataURL(e.target.files[0]);\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const user = this.props.currentUser;\n      const formData = new FormData();\n      formData.append('user[id]', user.id);\n      formData.append('user[profile_pic]', this.state.croppedImage); // addPhotoToUser(user, formData);\n    };\n\n    this.state = {\n      src: null,\n      crop: {\n        unit: '%',\n        width: 30,\n        aspect: 1 / 1\n      },\n      croppedImageUrl: null\n    };\n  }\n\n  render() {\n    const preview = this.state.photoUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: this.state.photoUrl,\n      alt: \"preview\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 41\n    }, this) : null;\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"profile_pic\",\n        value: this.state.profile_pic,\n        onChange: this.handleFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }, this), preview, /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapSTP = state => {\n  return {\n    currentUser: state.currentUser\n  };\n};\n\nexport default connect(mapSTP)(PicUploadNoCrop);","map":{"version":3,"sources":["/Users/apple/Downloads/React-verification-system/client/src/pages/PicUploadNoCrop.js"],"names":["React","Component","connect","ReactCrop","PicUploadNoCrop","constructor","handleFile","e","fileReader","FileReader","onloadend","setState","src","result","readAsDataURL","target","files","handleSubmit","preventDefault","user","props","currentUser","formData","FormData","append","id","state","croppedImage","crop","unit","width","aspect","croppedImageUrl","render","preview","photoUrl","profile_pic","mapSTP"],"mappings":";;;AAAA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAO,qCAAP;;AAEA,MAAMC,eAAN,SAA8BH,SAA9B,CAAwC;AACvCI,EAAAA,WAAW,GAAG;AACb;;AADa,SAadC,UAbc,GAaAC,CAAD,IAAO;AACnB,YAAMC,UAAU,GAAG,IAAIC,UAAJ,EAAnB;;AACAD,MAAAA,UAAU,CAACE,SAAX,GAAuB,MAAM;AAC5B,aAAKC,QAAL,CAAc;AAAEC,UAAAA,GAAG,EAAEJ,UAAU,CAACK;AAAlB,SAAd;AACA,OAFD;;AAGAL,MAAAA,UAAU,CAACM,aAAX,CAAyBP,CAAC,CAACQ,MAAF,CAASC,KAAT,CAAe,CAAf,CAAzB;AACA,KAnBa;;AAAA,SAqBdC,YArBc,GAqBEV,CAAD,IAAO;AACrBA,MAAAA,CAAC,CAACW,cAAF;AACA,YAAMC,IAAI,GAAG,KAAKC,KAAL,CAAWC,WAAxB;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BL,IAAI,CAACM,EAAjC;AACAH,MAAAA,QAAQ,CAACE,MAAT,CAAgB,mBAAhB,EAAqC,KAAKE,KAAL,CAAWC,YAAhD,EANqB,CAQrB;AACA,KA9Ba;;AAEb,SAAKD,KAAL,GAAa;AACZd,MAAAA,GAAG,EAAE,IADO;AAEZgB,MAAAA,IAAI,EAAE;AACLC,QAAAA,IAAI,EAAE,GADD;AAELC,QAAAA,KAAK,EAAE,EAFF;AAGLC,QAAAA,MAAM,EAAE,IAAI;AAHP,OAFM;AAOZC,MAAAA,eAAe,EAAE;AAPL,KAAb;AASA;;AAqBDC,EAAAA,MAAM,GAAG;AACR,UAAMC,OAAO,GAAG,KAAKR,KAAL,CAAWS,QAAX,gBAAsB;AAAK,MAAA,GAAG,EAAE,KAAKT,KAAL,CAAWS,QAArB;AAA+B,MAAA,GAAG,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA,YAAtB,GAAwE,IAAxF;AAEA,wBACC;AAAM,MAAA,QAAQ,EAAE,KAAKlB,YAArB;AAAA,8BACC;AACC,QAAA,IAAI,EAAC,MADN;AAEC,QAAA,EAAE,EAAC,aAFJ;AAGC,QAAA,KAAK,EAAE,KAAKS,KAAL,CAAWU,WAHnB;AAIC,QAAA,QAAQ,EAAE,KAAK9B;AAJhB;AAAA;AAAA;AAAA;AAAA,cADD,EAOE4B,OAPF,eAQC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAYA;;AAhDsC;;AAmDxC,MAAMG,MAAM,GAAIX,KAAD,IAAW;AACzB,SAAO;AAAEL,IAAAA,WAAW,EAAEK,KAAK,CAACL;AAArB,GAAP;AACA,CAFD;;AAIA,eAAenB,OAAO,CAACmC,MAAD,CAAP,CAAgBjC,eAAhB,CAAf","sourcesContent":["/** @format */\n\nimport React, { Component } from 'react';\n// import { Form } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\n\nclass PicUploadNoCrop extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tsrc: null,\n\t\t\tcrop: {\n\t\t\t\tunit: '%',\n\t\t\t\twidth: 30,\n\t\t\t\taspect: 1 / 1\n\t\t\t},\n\t\t\tcroppedImageUrl: null\n\t\t};\n\t}\n\n\thandleFile = (e) => {\n\t\tconst fileReader = new FileReader();\n\t\tfileReader.onloadend = () => {\n\t\t\tthis.setState({ src: fileReader.result });\n\t\t};\n\t\tfileReader.readAsDataURL(e.target.files[0]);\n\t};\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst user = this.props.currentUser;\n\t\tconst formData = new FormData();\n\n\t\tformData.append('user[id]', user.id);\n\t\tformData.append('user[profile_pic]', this.state.croppedImage);\n\n\t\t// addPhotoToUser(user, formData);\n\t};\n\n\trender() {\n\t\tconst preview = this.state.photoUrl ? <img src={this.state.photoUrl} alt=\"preview\" /> : null;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tid=\"profile_pic\"\n\t\t\t\t\tvalue={this.state.profile_pic}\n\t\t\t\t\tonChange={this.handleFile}\n\t\t\t\t/>\n\t\t\t\t{preview}\n\t\t\t\t<button>save</button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nconst mapSTP = (state) => {\n\treturn { currentUser: state.currentUser };\n};\n\nexport default connect(mapSTP)(PicUploadNoCrop);\n"]},"metadata":{},"sourceType":"module"}