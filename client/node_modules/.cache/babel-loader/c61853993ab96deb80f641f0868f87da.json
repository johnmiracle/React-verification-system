{"ast":null,"code":"import _defineProperty from\"/Users/apple/Downloads/React-verification-system/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/apple/Downloads/React-verification-system/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";/** @format */import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{verify}from'../actions/productActions';import{Fab}from'@material-ui/core';import{ArrowBack}from'@material-ui/icons';import{Link}from'react-router-dom';import LoadingBox from'../components/LoadingBox';function CodeVerify(props){var _jsx2;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),code=_useState2[0],setCode=_useState2[1];var productVerify=useSelector(function(state){return state.productVerify;});var loading=productVerify.loading,successfulVerify=productVerify.success,error=productVerify.error;var dispatch=useDispatch();var submitHandler=function submitHandler(e){e.preventDefault();dispatch(verify(code));};useEffect(function(){if(successfulVerify){var redirect='/result';props.history.push(redirect);}if(error){var _redirect='/result_fail';props.history.push(_redirect);}return function(){//\n};},[successfulVerify,error,props.history]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/product_verify\",children:/*#__PURE__*/_jsx(Fab,{style:{marginRight:10},color:\"primary\",children:/*#__PURE__*/_jsx(ArrowBack,{})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md-form\",children:[/*#__PURE__*/_jsx(\"input\",(_jsx2={type:\"text\",id:\"form1\",className:\"form-control\"},_defineProperty(_jsx2,\"id\",\"exampleInputNumber\"),_defineProperty(_jsx2,\"onChange\",function onChange(e){return setCode(e.target.value);}),_defineProperty(_jsx2,\"required\",true),_jsx2)),/*#__PURE__*/_jsx(\"label\",{for:\"form1\",children:\"Product Code\"})]}),/*#__PURE__*/_jsx(\"button\",{onSubmit:submitHandler,type:\"submit\",className:\"btn btn-block btn-primary\",children:\"Verify\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\"})]})]})})});}export default CodeVerify;","map":{"version":3,"sources":["/Users/apple/Downloads/React-verification-system/client/src/pages/CodeVerify.js"],"names":["React","useState","useEffect","useDispatch","useSelector","verify","Fab","ArrowBack","Link","LoadingBox","CodeVerify","props","code","setCode","productVerify","state","loading","successfulVerify","success","error","dispatch","submitHandler","e","preventDefault","redirect","history","push","marginRight","target","value"],"mappings":"8WAAA,cAEA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,KAAuB,2BAAvB,CACA,OAASC,GAAT,KAAoB,mBAApB,CACA,OAASC,SAAT,KAA0B,oBAA1B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,yBACFV,QAAQ,CAAC,EAAD,CADN,wCACnBW,IADmB,eACbC,OADa,eAE1B,GAAMC,CAAAA,aAAa,CAAGV,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACD,aAAjB,EAAD,CAAjC,CAF0B,GAGlBE,CAAAA,OAHkB,CAG4BF,aAH5B,CAGlBE,OAHkB,CAGAC,gBAHA,CAG4BH,aAH5B,CAGTI,OAHS,CAGkBC,KAHlB,CAG4BL,aAH5B,CAGkBK,KAHlB,CAK1B,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CACA,GAAMkB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CAC5BA,CAAC,CAACC,cAAF,GACAH,QAAQ,CAACf,MAAM,CAACO,IAAD,CAAP,CAAR,CACA,CAHD,CAIAV,SAAS,CAAC,UAAM,CACf,GAAIe,gBAAJ,CAAsB,CACrB,GAAIO,CAAAA,QAAQ,CAAG,SAAf,CACAb,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmBF,QAAnB,EACA,CACD,GAAIL,KAAJ,CAAW,CACV,GAAIK,CAAAA,SAAQ,CAAG,cAAf,CACAb,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmBF,SAAnB,EACA,CACD,MAAO,WAAM,CACZ;AACA,CAFD,CAGA,CAZQ,CAYN,CAACP,gBAAD,CAAmBE,KAAnB,CAA0BR,KAAK,CAACc,OAAhC,CAZM,CAAT,CAaA,mBACC,kCACC,YAAK,SAAS,CAAC,gBAAf,UACET,OAAO,cACP,KAAC,UAAD,IADO,cAGP,oCACC,YAAK,SAAS,CAAC,MAAf,uBACC,KAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,uBACC,KAAC,GAAD,EAAK,KAAK,CAAE,CAAEW,WAAW,CAAE,EAAf,CAAZ,CAAiC,KAAK,CAAC,SAAvC,uBACC,KAAC,SAAD,IADD,EADD,EADD,EADD,cAQC,aAAK,SAAS,CAAC,UAAf,wBACC,YAAK,SAAS,CAAC,UAAf,EADD,cAEC,YAAK,SAAS,CAAC,UAAf,uBACC,cAAM,QAAQ,CAAEN,aAAhB,wBACC,aAAK,SAAS,CAAC,SAAf,wBACC,qBACC,IAAI,CAAC,MADN,CAEC,EAAE,CAAC,OAFJ,CAGC,SAAS,CAAC,cAHX,6BAII,oBAJJ,mCAKW,kBAACC,CAAD,QAAOT,CAAAA,OAAO,CAACS,CAAC,CAACM,MAAF,CAASC,KAAV,CAAd,EALX,gDADD,cASC,cAAO,GAAG,CAAC,OAAX,0BATD,GADD,cAYC,eACC,QAAQ,CAAER,aADX,CAEC,IAAI,CAAC,QAFN,CAGC,SAAS,CAAC,2BAHX,oBAZD,GADD,EAFD,cAwBC,YAAK,SAAS,CAAC,UAAf,EAxBD,GARD,GAJF,EADD,EADD,CA6CA,CAED,cAAeX,CAAAA,UAAf","sourcesContent":["/** @format */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { verify } from '../actions/productActions';\r\nimport { Fab } from '@material-ui/core';\r\nimport { ArrowBack } from '@material-ui/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport LoadingBox from '../components/LoadingBox';\r\n\r\nfunction CodeVerify(props) {\r\n\tconst [code, setCode] = useState('');\r\n\tconst productVerify = useSelector((state) => state.productVerify);\r\n\tconst { loading, success: successfulVerify, error } = productVerify;\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(verify(code));\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (successfulVerify) {\r\n\t\t\tlet redirect = '/result';\r\n\t\t\tprops.history.push(redirect);\r\n\t\t}\r\n\t\tif (error) {\r\n\t\t\tlet redirect = '/result_fail';\r\n\t\t\tprops.history.push(redirect);\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\t//\r\n\t\t};\r\n\t}, [successfulVerify, error, props.history]);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"container mt-5\">\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<LoadingBox></LoadingBox>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t<Link to=\"/product_verify\">\r\n\t\t\t\t\t\t\t\t<Fab style={{ marginRight: 10 }} color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t<ArrowBack />\r\n\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t<div className=\"col-md-3\"></div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"md-form\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"form1\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"exampleInputNumber\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setCode(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label for=\"form1\">Product Code</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonSubmit={submitHandler}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-block btn-primary\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tVerify\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-3\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CodeVerify;\r\n"]},"metadata":{},"sourceType":"module"}